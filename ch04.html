<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Getting Started with Computer Vision with OpenCV and Processing</title>

    <!-- Bootstrap core CSS -->
   <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"/>
   <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css"/>
   <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"/>

   <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"> </script>
   <script type="text/javascript" src="theme/html/javascripts/disqus.js"> </script>

   <link rel="stylesheet" href="theme/html/stylesheets/atlas.css"/>


  </head>

  <body data-type="book">
	
   <a href="https://github.com/atduskgreg/opencv-processing-book"><img style="z-index: 999999999; position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Discuss on GitHub"/></a>


    <div class="navbar navbar-fixed-top" role="navigation">	
      <div class="container">
        <div class="navbar-header">	
	  <img class="logo" src="theme/html/assets/logo-white.svg"/>
          <a class="title" href="/">Getting Started with Computer Vision with OpenCV and Processing</a>
        </div>

	<div id="slideout">
	    <span class="toc-control fa fa-bars"/>
	    <div id="slideout_inner">
	        <h2>Table of Contents</h2>
	        <nav data-type="toc" id="idp87120"><ol><li data-type="part"><a href="part01.html#idp106048">World of Filters</a></li><li data-type="chapter"><a href="ch01.html#idm35968">Basic Output</a></li><li data-type="chapter"><a href="ch02.html#idp477760">Blur</a><ol>




<li data-type="sect1"><a href="ch02.html#idm1265808">Blur Strength and Direction - Convolutions and Kernels</a><ol>
























<li data-type="sect2"><a href="ch02.html#idp945920">Color Images</a></li>
</ol></li>
<li data-type="sect1"><a href="ch02.html#idp483216">Parameters</a></li>
<li data-type="sect1"><a href="ch02.html#idp483472">Related Functions</a></li>
</ol></li><li data-type="chapter"><a href="ch03.html#idp958304">Dilate and Erode</a></li><li data-type="chapter"><a href="ch04.html#idp958880">Edge Detection</a><ol>



<li data-type="sect1"><a href="ch04.html#idp975696">Canny Edge Detection</a></li>
<li data-type="sect1"><a href="ch04.html#idp973232">Sobel Edge Detection</a><ol>




<li data-type="sect2"><a href="ch04.html#idp970784">Parameters</a></li>
</ol></li>
<li data-type="sect1"><a href="ch04.html#idp983648">Scharr Edge Detection</a></li>
</ol></li><li data-type="chapter"><a href="ch05.html#idp988256">Histogram Equalization</a></li><li data-type="chapter"><a href="ch06.html#idp988672">In Range</a><ol>








<li data-type="sect1"><a href="ch06.html#idp1012224">Use with Color Images and the Hue Channel</a></li>
<li data-type="sect1"><a href="ch06.html#idp1013952">Parameters</a></li>
<li data-type="sect1"><a href="ch06.html#idp1017792">Related Material</a></li>
</ol></li><li data-type="chapter"><a href="ch07.html#idp1004256">Region of Interest</a><ol>





<li data-type="sect1"><a href="ch07.html#idp1032688">Combined with Histogram Equalization</a></li>
<li data-type="sect1"><a href="ch07.html#idp1032944">Parameters</a></li>
</ol></li><li data-type="chapter"><a href="ch08.html#idp1038464">Threshold</a><ol>







<li data-type="sect1"><a href="ch08.html#idp1040480">Related Functions</a></li>
<li data-type="sect1"><a href="ch08.html#idp1047056">Parameters</a></li>
<li data-type="sect1"><a href="ch08.html#idp1049936">Code</a></li>
</ol></li><li data-type="chapter"><a href="ch09.html#idp1051888">Track the Brightest Point</a><ol>





<li data-type="sect1"><a href="ch09.html#idp1053872">Video Summary</a><ol>



<li data-type="sect2"><a href="ch09.html#idp1066304">Luma: A More Accurate Measure of Brightness</a></li>
</ol></li>
<li data-type="sect1"><a href="ch09.html#idp1074096">Quiz</a></li>
<li data-type="sect1"><a href="ch09.html#idp1068688">Code</a><ol>


<li data-type="sect2"><a href="ch09.html#idp1079312">Important Functions</a></li>
<li data-type="sect2"><a href="ch09.html#idp1083856">Browse the Code</a></li>
</ol></li>
</ol></li><li data-type="part"><a href="part02.html#idp1087648">Track all the Things</a></li><li data-type="chapter"><a href="ch10.html#idp1089776">Face Detection</a><ol>






<li data-type="sect1"><a href="ch10.html#idp1092576">Video Summary</a></li>
<li data-type="sect1"><a href="ch10.html#idp1110064">The Politics of Face Detection</a></li>
<li data-type="sect1"><a href="ch10.html#idp1111440">Quiz</a></li>
<li data-type="sect1"><a href="ch10.html#idp1124784">Code</a><ol>


<li data-type="sect2"><a href="ch10.html#idp1134816">Important Functions</a></li>
<li data-type="sect2"><a href="ch10.html#idp1139280">Browse the Code</a></li>
</ol></li>
</ol></li><li data-type="part"><a href="part03.html#idp1142512">Projects</a></li><li data-type="chapter"><a href="ch11.html#idp1144144">Test Case 1: Film Scanner Frame Extractor</a><ol>


<li data-type="sect1"><a href="ch11.html#idp1144960">Part 1: Understanding the Problem</a><ol>


<li data-type="sect2"><a href="ch11.html#idp1146448">Kinograph: DIY Film Scanner</a></li>
<li data-type="sect2"><a href="ch11.html#idp1155424">The Problem: Rotation and Overscan</a></li>
<li data-type="sect2"><a href="ch11.html#idp1161344">How to Think about the Problem</a></li>
</ol></li>
</ol></li></ol></nav>
	    </div>
	</div>
      </div>
    </div>


    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <section data-type="chapter" data-pdf-bookmark="Chapter 4. Edge Detection" id="idp958880">
<h1>Edge Detection</h1>

<p>OpenCV includes a number of filters meant to reveal the edges of objects including the Canny filter, the Scharr filter, and the Sobel filter. Each of these has different properties and is useful in different situations.</p>
<section data-type="sect1" data-pdf-bookmark="Canny Edge Detection" id="idp975696">
<h1>Canny Edge Detection</h1>

<p>Unlike the other two edge detection filters, the Canny filter returns a binary image: all-white pixels where it found an edge, and all-black pixels where it did not find an edge. Also, uniquely, the Canny filter has no directional options</p>
</section>
<section data-type="sect1" data-pdf-bookmark="Sobel Edge Detection" id="idp973232">
<h1>Sobel Edge Detection</h1>

<p><img src="http://gregborenstein.com/assets/opencv/find_sobel_edges_horizontal.gif" width="400px"/> <img src="http://gregborenstein.com/assets/opencv/find_sobel_edges_vertical.gif" width="400px"/></p>
<p>Notice the differences between the two modes, how each one affects the sides of the film frame and sprocket holes, the vertical stripes in the actor’s shirt, and the lines in the soundtrack on the left of the frame.</p>
<section data-type="sect2" data-pdf-bookmark="Parameters" id="idp970784">
<h2>Parameters</h2>

<p>The parameters for <code>findSobelEdges()</code> can be a little bit counterintuitive. </p>
<p>The Sobel edge-detection algorithm works by amplifying changes in the values of neighboring pixels. It can look at horizontal neighbors, vertical neighbors, or both. Counterintuitively, looking for changes between horizontal neighbors ends up detecting vertical edges and vice versa. (Imagine an image with a strong vertical edge in it. The pixels that make up that edge differ strongly not from the ones immediately above and below them (their vertical neighbors) but from those to their left and right (their horizontal neighbors).)</p>
<p>The <code>findSobelEdges()</code> function takes two arguments, each an integer in the range 0-2. The first argument tells the Sobel algorithm how many horizontal neighbors to look at and the second how many vertical neighbors. The fewer neighbors you look at, the thicker and more intense the edges will be.</p>
<p><a href="http://www.flickr.com/photos/unavoidablegrain/9191016933/" title="sobel edge direction comparison by atduskgreg, on Flickr"><img src="http://farm8.staticflickr.com/7436/9191016933_abaf2cc508.jpg" width="346" height="500" alt="sobel edge direction comparison"/></a></p>
<p>So, putting this into action, we can find horizontal edges like this:</p>
<pre data-type="programlisting">opencv.findSobelEdges(0,1);</pre>
<p>vertical edges:</p>
<pre data-type="programlisting">opencv.findSobelEdges(1,0);</pre>
<p>thinner vertical edges:</p>
<pre data-type="programlisting">opencv.findSobelEdges(2,0);</pre>
<p>and edges in both directions equally:</p>
<pre data-type="programlisting">opencv.findSobelEdges(1,1);</pre>
</section>
</section>
<section data-type="sect1" data-pdf-bookmark="Scharr Edge Detection" id="idp983648">
<h1>Scharr Edge Detection</h1>

</section>
</section>
        </div>
      </div>
    </div>
  
    <div class="container">
	<div class="row">
	  <div class="pagination">
	      <ul>
	        <li class="prev"><span class="fa fa-chevron-left"/> <a href="ch03.html">Previous</a></li>
	        <li class="next"><a href="ch05.html">Next</a> <span class="fa fa-chevron-right"/></li>
	      </ul>
	  </div>       
	</div>
    </div>

    <div class="container">
       <div class="row">
          <div class="col-md-12 disqus">
	     <div id="disqus_thread"/>
	   </div>
       </div>
    </div>
 
    <div class="footer">
      <footer>
        <p>© O'Reilly Media, 2014</p>
      </footer>
    </div>

  </body>

</html>
